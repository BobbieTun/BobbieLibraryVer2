-- BobbieLibV2.lua
-- Clean, modular, loadstring-friendly Bobbie Library (UI + Utils + Themes + Config)
-- Usage: local Bobbie = loadstring(game:HttpGet("https://raw.githubusercontent.com/BobbieTun/BobbieLibraryVer2/main/BobbieLibV2.lua"))()


local Bobbie = {}
Bobbie.__index = Bobbie
Bobbie.Version = "2.0.0-beta-clean"


-- Internal storage
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local HttpService = game:GetService("HttpService")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer and LocalPlayer:WaitForChild("PlayerGui")


-- Submodules
Bobbie.UI = {}
Bobbie.Utils = {}
Bobbie.Config = {}
Bobbie.Themes = {}


-- Store windows to update theme later
local _windows = {}


-- ======= Utilities =======
local function safeWrite(path, content)
if writefile and isfile then
if isfile(path) then
writefile(path, content)
else
writefile(path, content)
end
else
-- executor doesn't support file API; fallback to warn
warn("BobbieLib: writefile not available; skipping save for " .. path)
end
end


local function safeRead(path)
if readfile and isfile and isfile(path) then
return readfile(path)
end
return nil
end


function Bobbie.Utils:Notify(text, duration)
duration = duration or 3
pcall(function()
game.StarterGui:SetCore("SendNotification", {Title = "BobbieLib", Text = text, Duration = duration})
end)
end


function Bobbie.Utils:TweenTo(targetCFrame, duration)
local char = LocalPlayer.Character
if not char then return end
local hrp = char:FindFirstChild("HumanoidRootPart")
if not hrp then return end
local info = TweenInfo.new(duration or 1, Enum.EasingStyle.Linear)
local tween = TweenService:Create(hrp, info, {CFrame = targetCFrame})
tween:Play()
end


function Bobbie.Utils:TeleportTo(part)
if not part or not part:IsA("BasePart") then return end
local char = LocalPlayer.Character
if not char then return end
local hrp = char:FindFirstChild("HumanoidRootPart")
if hrp then hrp.CFrame = part.CFrame + Vector3.new(0, 3, 0) end
end


-- ======= Config =======
Bobbie.Config.Folder = "BobbieConfigs"

